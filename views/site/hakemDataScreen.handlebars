<div class="barColor"
    style="background-color: rgb(14, 46, 60); width: 100%; text-align:end; color:white; padding-top:0.5em; padding-right:0.7em; opacity:0.8">
</div>
</div>
</div>
<div class="locations">
    <ul class="locationsList">
        <li> <a href="/ayarlar/referee/"> Ayarlar > Hakem </a></li>
        <li><i class="fa-solid fa-circle-question"></i></li>
    </ul>
</div>
</nav>


<div class="mainPage">
    {{>left-navData}}

    <div class="hakemSettings" style="width: 450px;">
        <div class="boxSettings">
            <div class="boxSettingsTop" style="margin-left: 2em;">
                <h2>Hakem Ayarları</h2>
                <p>Hakem ile ilgili bilgileri aşağıdan değiştirebilirsiniz.</p>
            </div>
            <div class="hr"></div>
            <div class="boxSettingsMiddle" style="margin-left: 2em;">
                <form action="/ayarlar/referee/hakem" method="POST" id="formPost" class="boxInfo">
                    <h2>Hakem Bilgileri</h2>
                    <div class="topInfo">
                        <div class="input-container">
                            <input type="text" style="width: 150px;" name="refereeName" required=""
                                value="{{post.refereeName}}" />
                            <label>Hakem İsmi</label>
                        </div>
                        <div class="input-container">
                            <input type="text" style="width: 150px;" name="refereeSurName" required=""
                                value="{{post.refereeSurName}}" />
                            <label>Hakem Soy İsmi</label>
                        </div>
                        <div class="input-container">
                            <input type="number" style="width: 150px;" name="refereeNumber" required=""  min="0"
                                value="{{post.refereeNumber}}">
                            <label>Hakem Numarası</label>
                        </div>
                        <div class="input-container">
                            <input type="number" style="width: 150px;" name="importanceOfReferee" required=""  min="0" max="10"
                                value="{{post.importanceOfReferee}}">
                            <label>Hakem Puanı</label>
                        </div>
                    </div>
            </div>

            <div class="hr"></div>
            <div class="hakemPositions" style="margin-left:2em ;">
                <h2>Hakem Pozisyon Seçimi</h2>
                <div class="middleRefereeIsChecked">
                    <label for="middleRefereeIsChecked">Orta Hakem</label>
                    <input type="checkbox" name="middleRefereeIsChecked" style="margin-right: 2em;">
                </div>
                <div class="linemanIsChecked">
                    <label for="linemanIsChecked">Yan Hakem</label>
                    <input type="checkbox" name="linemanIsChecked" style="margin-right: 2em;">
                </div>
                <div class="fourthRefereeIsChecked">
                    <label for="fourthRefereeIsChecked">Dördüncü Hakem</label>
                    <input type="checkbox" name="fourthRefereeIsChecked" style="margin-right: 2em;">
                </div>
                <div class="varRefereeIsChecked">
                    <label for="varRefereeIsChecked">Var Hakem</label>
                    <input type="checkbox" name="varRefereeIsChecked" style="margin-right: 2em;">
                </div>
            </div>

        </div>
    </div>


    <div class="hakemSettings2" style="width: 450px;">
        <div class="boxSettings">
            <div class="boxSettingsTop" style="margin-left: 2em;">
                <h2>Hakem Ayarları</h2>
                <p>Hakem ile ilgili diğer bilgileri aşağıdan değiştirebilirsiniz.</p>
            </div>
            <div class="hr"></div>
            <div class="boxSettingsMiddle" style="margin-left: 2em;">
            </div>
            <div class="hr" style="margin-bottom: 1em;"></div>
            <div class="hakemPositions">
                Hakemi:
                <div class="optionRefereeLeague"><button type="button" class="plusButton" id="plusButtonLeague"
                        onclick="addOptionLeague()"> +</button><label for="refereeLeague">şu liglerin maçına
                        verme</label>
                    <select class="w3-select allOptions" id="optionRefereeLeague" name="optionRefereeLeague"
                        style="width: 110px; margin-right:2em;" multiple>
                        <option value="" disabled selected>Lig Seçiniz</option>
                        {{#each league}}
                        <option value="{{_id}}">{{leagueName}}</option>
                        {{/each}}
                    </select>


                </div>
            </div>
            <div class="hr" style="margin:1em;"></div>

            <div class="hakemPositions">
                <div class="optionsGroup" style="display:flex;">
                    <button type="button" class="plusButton" id="plusButtonGroup" onclick="addOptionGroup()"
                        disabled>+</button><label for="refereeGroup">şu grubun
                        maçına verme</label>
                    <div class="refereeGroup" style="display:flex; flex-direction:column; gap:1em;">
                        <select class="w3-select" id="optionRefereeGroup" name="optionRefereeGroup"
                            style="width:250px;margin-right:2em;" multiple>
                            <option value="" disabled selected>Grup Seçiniz</option>
                            {{#each league}}
                            {{#times groupNumber}}
                                <option value="{{#each (lookup ../league (concat 'groupNo' this))}} {{/each}}"> {{../leagueName}} - Grup {{this}}</option>
                            {{/times}}
                            {{/each}}
                        </select>
                        <div class="hr"></div>
                    </div>
                </div>


            </div>
            <div class="hr" style="margin: 1em 0;"></div>
            <div class="hakemPositions">
                <div class="options" style="display:flex;">
                    <button type="button" class="plusButton" id="plusButtonTeam" onclick="addOption()"
                        disabled>+</button><label for="refereeTeam">şu takımın
                        maçına verme</label>
                    <div class="refereeTeam" style="display:flex; flex-direction:column; gap:1em;">
                        <select class="w3-select" id="refereeTeam" name="refereeTeam"
                            style="width:250px;margin-right:2em;" multiple>
                            <option value="" disabled selected>Takım Seçiniz</option>
                            {{#each team}}
                            <option value="{{_id}}">{{leagueName.leagueName}} - {{teamName}}</option>
                            {{/each}}
                        </select>
                        <div class="hr"></div>
                    </div>
                </div>


            </div>
            <div class="hr" style="margin: 1em 0;"></div>

            <div class="hakemPositions" style="margin-left:2em">
                <div class="atamaKapatHakem"><label for="atamaKapatHakem">Hakemi şu tarihler arası atamaya kapat</label>
                    <input style="margin-right: 2em;margin-top:0.5em;" type="date" name="atamaKapatHakem"
                        id"atamaKapatHakem">
                </div>
            </div>
            <div class="hr" style="margin-top:1em;"></div>
            <div class="boxSettingsMiddle" style="margin-left: 2em;">
                <h3>Hakem Puanı</h3>
                <div class="w3-grey" style="margin-top:1em; margin-right:2em;">
                    <div class="w3-green" id="pointBar" style="height:24px; text-align:center;">{{post.importanceOfReferee}}</div>
                </div>
            </div>
            <div class="hr" style="margin-top:1em;"></div>
            <div class="optionButtons" style="margin: 1em 2em; display:flex; gap: 3em;">
                <button type="submit" class="greenButton">Kaydet</button>
                <button type="reset" class="cancelButton">İptal</button>
            </div>
            <div class="hr"></div>
            <div class="dangerArea" style="margin: 1em 2em;">
                <h2>Tehlikeli Bölge <span style="color: red;">!</span></h2>
                <form action="/ayarlar/referee/{{post._id}}?_method=DELETE" method="post">
                    <input type="hidden" name="_method" value="DELETE">
                    <button type="submit" class="redButton">Sil</button>
                </form>
            </div>
        </div>
    </div>
    {{>sessionFlashMessage}}
</div>

<script>

    document.getElementById("pointBar").style.width = 10%
    var inputSelect = document.getElementById("refereeTeamLeague");
    var inputSelect2 = document.getElementById("refereeTeamGroup");
    var plusButton = document.querySelector("#plusButtonTeam")

    inputSelect.addEventListener("change", function () {
        document.getElementById("refereeTeamGroup").classList.remove('uk-hidden');
    });
    inputSelect2.addEventListener("change", function () {
        document.getElementById("refereeTeam").classList.remove('uk-hidden');
        plusButton.disabled = false;
    });


</script>